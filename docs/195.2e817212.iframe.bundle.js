/*! For license information please see 195.2e817212.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkregent_poc=self.webpackChunkregent_poc||[]).push([[195],{"./node_modules/@sanity/image-url/lib/browser/image-url.umd.js":function(module){module.exports=function(){function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var example="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function parseAssetId(ref){var _ref$split=ref.split("-"),id=_ref$split[1],dimensionString=_ref$split[2],format=_ref$split[3];if(!id||!dimensionString||!format)throw new Error("Malformed asset _ref '"+ref+"'. Expected an id like \""+example+'".');var _dimensionString$spli=dimensionString.split("x"),width=+_dimensionString$spli[0],height=+_dimensionString$spli[1];if(!isFinite(width)||!isFinite(height))throw new Error("Malformed asset _ref '"+ref+"'. Expected an id like \""+example+'".');return{id,width,height,format}}var isRef=function isRef(src){return!!src&&"string"==typeof src._ref},isAsset=function isAsset(src){return!!src&&"string"==typeof src._id},isAssetStub=function isAssetStub(src){var source=src;return!(!source||!source.asset)&&"string"==typeof source.asset.url};function parseSource(source){if(!source)return null;var image;if("string"==typeof source&&isUrl(source))image={asset:{_ref:urlToId(source)}};else if("string"==typeof source)image={asset:{_ref:source}};else if(isRef(source))image={asset:source};else if(isAsset(source))image={asset:{_ref:source._id||""}};else if(isAssetStub(source))image={asset:{_ref:urlToId(source.asset.url)}};else{if("object"!=typeof source.asset)return null;image=_extends({},source)}var img=source;return img.crop&&(image.crop=img.crop),img.hotspot&&(image.hotspot=img.hotspot),applyDefaults(image)}function isUrl(url){return/^https?:\/\//.test(""+url)}function urlToId(url){return("image-"+url.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function applyDefaults(image){if(image.crop&&image.hotspot)return image;var result=_extends({},image);return result.crop||(result.crop={left:0,top:0,bottom:0,right:0}),result.hotspot||(result.hotspot={x:.5,y:.5,height:1,width:1}),result}var SPEC_NAME_TO_URL_NAME_MAPPINGS=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function urlForImage(options){var spec=_extends({},options||{}),source=spec.source;delete spec.source;var image=parseSource(source);if(!image)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(source)+")");var asset=parseAssetId(image.asset._ref||image.asset._id||""),cropLeft=Math.round(image.crop.left*asset.width),cropTop=Math.round(image.crop.top*asset.height),crop={left:cropLeft,top:cropTop,width:Math.round(asset.width-image.crop.right*asset.width-cropLeft),height:Math.round(asset.height-image.crop.bottom*asset.height-cropTop)},hotSpotVerticalRadius=image.hotspot.height*asset.height/2,hotSpotHorizontalRadius=image.hotspot.width*asset.width/2,hotSpotCenterX=image.hotspot.x*asset.width,hotSpotCenterY=image.hotspot.y*asset.height,hotspot={left:hotSpotCenterX-hotSpotHorizontalRadius,top:hotSpotCenterY-hotSpotVerticalRadius,right:hotSpotCenterX+hotSpotHorizontalRadius,bottom:hotSpotCenterY+hotSpotVerticalRadius};return spec.rect||spec.focalPoint||spec.ignoreImageParams||spec.crop||(spec=_extends({},spec,fit({crop,hotspot},spec))),specToImageUrl(_extends({},spec,{asset}))}function specToImageUrl(spec){var cdnUrl=(spec.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),filename=spec.asset.id+"-"+spec.asset.width+"x"+spec.asset.height+"."+spec.asset.format,baseUrl=cdnUrl+"/images/"+spec.projectId+"/"+spec.dataset+"/"+filename,params=[];if(spec.rect){var _spec$rect=spec.rect,left=_spec$rect.left,top=_spec$rect.top,width=_spec$rect.width,height=_spec$rect.height;(0!==left||0!==top||height!==spec.asset.height||width!==spec.asset.width)&&params.push("rect="+left+","+top+","+width+","+height)}spec.bg&&params.push("bg="+spec.bg),spec.focalPoint&&(params.push("fp-x="+spec.focalPoint.x),params.push("fp-y="+spec.focalPoint.y));var flip=[spec.flipHorizontal&&"h",spec.flipVertical&&"v"].filter(Boolean).join("");return flip&&params.push("flip="+flip),SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach((function(mapping){var specName=mapping[0],param=mapping[1];void 0!==spec[specName]?params.push(param+"="+encodeURIComponent(spec[specName])):void 0!==spec[param]&&params.push(param+"="+encodeURIComponent(spec[param]))})),0===params.length?baseUrl:baseUrl+"?"+params.join("&")}function fit(source,spec){var cropRect,imgWidth=spec.width,imgHeight=spec.height;if(!imgWidth||!imgHeight)return{width:imgWidth,height:imgHeight,rect:source.crop};var crop=source.crop,hotspot=source.hotspot,desiredAspectRatio=imgWidth/imgHeight;if(crop.width/crop.height>desiredAspectRatio){var height=Math.round(crop.height),width=Math.round(height*desiredAspectRatio),top=Math.max(0,Math.round(crop.top)),hotspotXCenter=Math.round((hotspot.right-hotspot.left)/2+hotspot.left),left=Math.max(0,Math.round(hotspotXCenter-width/2));left<crop.left?left=crop.left:left+width>crop.left+crop.width&&(left=crop.left+crop.width-width),cropRect={left,top,width,height}}else{var _width=crop.width,_height=Math.round(_width/desiredAspectRatio),_left=Math.max(0,Math.round(crop.left)),hotspotYCenter=Math.round((hotspot.bottom-hotspot.top)/2+hotspot.top),_top=Math.max(0,Math.round(hotspotYCenter-_height/2));_top<crop.top?_top=crop.top:_top+_height>crop.top+crop.height&&(_top=crop.top+crop.height-_height),cropRect={left:_left,top:_top,width:_width,height:_height}}return{width:imgWidth,height:imgHeight,rect:cropRect}}var validFits=["clip","crop","fill","fillmax","max","scale","min"],validCrops=["top","bottom","left","right","center","focalpoint","entropy"],validAutoModes=["format"];function isSanityModernClientLike(client){return!(!client||!("config"in client))&&"function"==typeof client.config}function isSanityClientLike(client){return!(!client||!("clientConfig"in client))&&"object"==typeof client.clientConfig}function rewriteSpecName(key){for(var _step,_iterator=_createForOfIteratorHelperLoose(SPEC_NAME_TO_URL_NAME_MAPPINGS);!(_step=_iterator()).done;){var entry=_step.value,specName=entry[0],param=entry[1];if(key===specName||key===param)return specName}return key}function urlBuilder(options){if(isSanityModernClientLike(options)){var _options$config=options.config(),apiUrl=_options$config.apiHost,projectId=_options$config.projectId,dataset=_options$config.dataset;return new ImageUrlBuilder(null,{baseUrl:(apiUrl||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId,dataset})}var client=options;if(isSanityClientLike(client)){var _client$clientConfig=client.clientConfig,_apiUrl=_client$clientConfig.apiHost,_projectId=_client$clientConfig.projectId,_dataset=_client$clientConfig.dataset;return new ImageUrlBuilder(null,{baseUrl:(_apiUrl||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:_projectId,dataset:_dataset})}return new ImageUrlBuilder(null,options)}var ImageUrlBuilder=function(){function ImageUrlBuilder(parent,options){this.options=void 0,this.options=parent?_extends({},parent.options||{},options||{}):_extends({},options||{})}var _proto=ImageUrlBuilder.prototype;return _proto.withOptions=function withOptions(options){var baseUrl=options.baseUrl||this.options.baseUrl,newOptions={baseUrl};for(var key in options)options.hasOwnProperty(key)&&(newOptions[rewriteSpecName(key)]=options[key]);return new ImageUrlBuilder(this,_extends({baseUrl},newOptions))},_proto.image=function image(source){return this.withOptions({source})},_proto.dataset=function dataset(_dataset2){return this.withOptions({dataset:_dataset2})},_proto.projectId=function projectId(_projectId2){return this.withOptions({projectId:_projectId2})},_proto.bg=function bg(_bg){return this.withOptions({bg:_bg})},_proto.dpr=function dpr(_dpr){return this.withOptions(_dpr&&1!==_dpr?{dpr:_dpr}:{})},_proto.width=function width(_width){return this.withOptions({width:_width})},_proto.height=function height(_height){return this.withOptions({height:_height})},_proto.focalPoint=function focalPoint(x,y){return this.withOptions({focalPoint:{x,y}})},_proto.maxWidth=function maxWidth(_maxWidth){return this.withOptions({maxWidth:_maxWidth})},_proto.minWidth=function minWidth(_minWidth){return this.withOptions({minWidth:_minWidth})},_proto.maxHeight=function maxHeight(_maxHeight){return this.withOptions({maxHeight:_maxHeight})},_proto.minHeight=function minHeight(_minHeight){return this.withOptions({minHeight:_minHeight})},_proto.size=function size(width,height){return this.withOptions({width,height})},_proto.blur=function blur(_blur){return this.withOptions({blur:_blur})},_proto.sharpen=function sharpen(_sharpen){return this.withOptions({sharpen:_sharpen})},_proto.rect=function rect(left,top,width,height){return this.withOptions({rect:{left,top,width,height}})},_proto.format=function format(_format){return this.withOptions({format:_format})},_proto.invert=function invert(_invert){return this.withOptions({invert:_invert})},_proto.orientation=function orientation(_orientation){return this.withOptions({orientation:_orientation})},_proto.quality=function quality(_quality){return this.withOptions({quality:_quality})},_proto.forceDownload=function forceDownload(download){return this.withOptions({download})},_proto.flipHorizontal=function flipHorizontal(){return this.withOptions({flipHorizontal:!0})},_proto.flipVertical=function flipVertical(){return this.withOptions({flipVertical:!0})},_proto.ignoreImageParams=function ignoreImageParams(){return this.withOptions({ignoreImageParams:!0})},_proto.fit=function fit(value){if(-1===validFits.indexOf(value))throw new Error('Invalid fit mode "'+value+'"');return this.withOptions({fit:value})},_proto.crop=function crop(value){if(-1===validCrops.indexOf(value))throw new Error('Invalid crop mode "'+value+'"');return this.withOptions({crop:value})},_proto.saturation=function saturation(_saturation){return this.withOptions({saturation:_saturation})},_proto.auto=function auto(value){if(-1===validAutoModes.indexOf(value))throw new Error('Invalid auto mode "'+value+'"');return this.withOptions({auto:value})},_proto.pad=function pad(_pad){return this.withOptions({pad:_pad})},_proto.url=function url(){return urlForImage(this.options)},_proto.toString=function toString(){return this.url()},ImageUrlBuilder}();return urlBuilder}()},"./node_modules/debug/src/browser.js":(module,exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/console-browserify/index.js"),process=__webpack_require__("./node_modules/process/browser.js");exports.formatArgs=function formatArgs(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(match=>{"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function save(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}},exports.load=function load(){let r;try{r=exports.storage.getItem("debug")}catch(error){}!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG);return r},exports.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage=function localstorage(){try{return localStorage}catch(error){}}(),exports.destroy=(()=>{let warned=!1;return()=>{warned||(warned=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.log=console.debug||console.log||(()=>{}),module.exports=__webpack_require__("./node_modules/debug/src/common.js")(exports);const{formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}},"./node_modules/debug/src/common.js":(module,__unused_webpack_exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/console-browserify/index.js");module.exports=function setup(env){function createDebug(namespace){let prevTime,namespacesCache,enabledCache,enableOverride=null;function debug(...args){if(!debug.enabled)return;const self=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,((match,format)=>{if("%%"===match)return"%";index++;const formatter=createDebug.formatters[format];if("function"==typeof formatter){const val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),createDebug.formatArgs.call(self,args);(self.log||createDebug.log).apply(self,args)}return debug.namespace=namespace,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(namespace),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==enableOverride?enableOverride:(namespacesCache!==createDebug.namespaces&&(namespacesCache=createDebug.namespaces,enabledCache=createDebug.enabled(namespace)),enabledCache),set:v=>{enableOverride=v}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(namespace,delimiter){const newDebug=createDebug(this.namespace+(void 0===delimiter?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(val){if(val instanceof Error)return val.stack||val.message;return val},createDebug.disable=function disable(){const namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((namespace=>"-"+namespace))].join(",");return createDebug.enable(""),namespaces},createDebug.enable=function enable(namespaces){let i;createDebug.save(namespaces),createDebug.namespaces=namespaces,createDebug.names=[],createDebug.skips=[];const split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+namespaces.slice(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")))},createDebug.enabled=function enabled(name){if("*"===name[name.length-1])return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1},createDebug.humanize=__webpack_require__("./node_modules/ms/index.js"),createDebug.destroy=function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(env).forEach((key=>{createDebug[key]=env[key]})),createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]},createDebug.enable(createDebug.load()),createDebug}},"./node_modules/ms/index.js":module=>{var s=1e3,m=60*s,h=60*m,d=24*h,w=7*d,y=365.25*d;function plural(ms,msAbs,n,name){var isPlural=msAbs>=1.5*n;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return function parse(str){if((str=String(str)).length>100)return;var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&isFinite(val))return options.long?function fmtLong(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return plural(ms,msAbs,d,"day");if(msAbs>=h)return plural(ms,msAbs,h,"hour");if(msAbs>=m)return plural(ms,msAbs,m,"minute");if(msAbs>=s)return plural(ms,msAbs,s,"second");return ms+" ms"}(val):function fmtShort(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return Math.round(ms/d)+"d";if(msAbs>=h)return Math.round(ms/h)+"h";if(msAbs>=m)return Math.round(ms/m)+"m";if(msAbs>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},"./node_modules/next-sanity/dist/client.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>client_createClient});const defaultOptions={timeout:"undefined"!=typeof navigator&&"ReactNative"===navigator.product?6e4:12e4},processOptions=function processOptions2(opts){const options={...defaultOptions,..."string"==typeof opts?{url:opts}:opts},{searchParams}=new URL(options.url,"http://localhost");if(options.timeout=normalizeTimeout(options.timeout),options.query)for(const[key,value]of Object.entries(options.query))if(void 0!==value)if(Array.isArray(value))for(const v of value)searchParams.append(key,v);else searchParams.append(key,value);const[url]=options.url.split("?"),search=searchParams.toString();return search&&(options.url="".concat(url,"?").concat(search)),options.method=options.body&&!options.method?"POST":(options.method||"GET").toUpperCase(),options};function normalizeTimeout(time){if(!1===time||0===time)return!1;if(time.connect||time.socket)return time;const delay=Number(time);return isNaN(delay)?normalizeTimeout(defaultOptions.timeout):{connect:delay,socket:delay}}const validUrl=/^https?:\/\//i,validateOptions=function validateOptions2(options){if(!validUrl.test(options.url))throw new Error('"'.concat(options.url,'" is not a valid URL'))};var parse_headers=__webpack_require__("./node_modules/parse-headers/parse-headers.js"),parse_headers_default=__webpack_require__.n(parse_headers);const channelNames=["request","response","progress","error","abort"],middlehooks=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function createRequester(initMiddleware,httpRequest){const loadedMiddleware=[],middleware=middlehooks.reduce(((ware,name)=>(ware[name]=ware[name]||[],ware)),{processOptions:[processOptions],validateOptions:[validateOptions]});function request(opts){const channels=channelNames.reduce(((target,name)=>(target[name]=function createPubSub(){const subscribers=Object.create(null);let nextId=0;return{publish:function publish(event){for(const id in subscribers)subscribers[id](event)},subscribe:function subscribe(subscriber){const id=nextId++;return subscribers[id]=subscriber,function unsubscribe(){delete subscribers[id]}}}}(),target)),{}),applyMiddleware=(middleware=>function applyMiddleware(hook,defaultValue){const bailEarly="onError"===hook;let value=defaultValue;for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];for(let i=0;i<middleware[hook].length&&(value=(0,middleware[hook][i])(value,...args),!bailEarly||value);i++);return value})(middleware),options=applyMiddleware("processOptions",opts);applyMiddleware("validateOptions",options);const context={options,channels,applyMiddleware};let ongoingRequest;const unsubscribe=channels.request.subscribe((ctx=>{ongoingRequest=httpRequest(ctx,((err,res)=>((reqErr,res,ctx)=>{let error=reqErr,response=res;if(!error)try{response=applyMiddleware("onResponse",res,ctx)}catch(err){response=null,error=err}error=error&&applyMiddleware("onError",error,ctx),error?channels.error.publish(error):response&&channels.response.publish(response)})(err,res,ctx)))}));channels.abort.subscribe((()=>{unsubscribe(),ongoingRequest&&ongoingRequest.abort()}));const returnValue=applyMiddleware("onReturn",channels,context);return returnValue===channels&&channels.request.publish(context),returnValue}return request.use=function use(newMiddleware){if(!newMiddleware)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof newMiddleware)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(newMiddleware.onReturn&&middleware.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return middlehooks.forEach((key=>{newMiddleware[key]&&middleware[key].push(newMiddleware[key])})),loadedMiddleware.push(newMiddleware),request},request.clone=()=>createRequester(loadedMiddleware,httpRequest),initMiddleware.forEach(request.use),request}var _method,_url,_resHeaders,_headers,_controller,_init,_useAbortSignal,__defProp=Object.defineProperty,__publicField=(obj,key,value)=>(((obj,key,value)=>{key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);class FetchXhr{constructor(){__publicField(this,"onabort"),__publicField(this,"onerror"),__publicField(this,"onreadystatechange"),__publicField(this,"ontimeout"),__publicField(this,"readyState",0),__publicField(this,"response"),__publicField(this,"responseText"),__publicField(this,"responseType",""),__publicField(this,"status"),__publicField(this,"statusText"),__publicField(this,"withCredentials"),__privateAdd(this,_method,void 0),__privateAdd(this,_url,void 0),__privateAdd(this,_resHeaders,void 0),__privateAdd(this,_headers,{}),__privateAdd(this,_controller,void 0),__privateAdd(this,_init,{}),__privateAdd(this,_useAbortSignal,void 0)}open(method,url,_async){__privateSet(this,_method,method),__privateSet(this,_url,url),__privateSet(this,_resHeaders,""),this.readyState=1,this.onreadystatechange(),__privateSet(this,_controller,void 0)}abort(){__privateGet(this,_controller)&&__privateGet(this,_controller).abort()}getAllResponseHeaders(){return __privateGet(this,_resHeaders)}setRequestHeader(name,value){__privateGet(this,_headers)[name]=value}setInit(init){let useAbortSignal=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];__privateSet(this,_init,init),__privateSet(this,_useAbortSignal,useAbortSignal)}send(body){const textBody="arraybuffer"!==this.responseType,options={...__privateGet(this,_init),method:__privateGet(this,_method),headers:__privateGet(this,_headers),body};"function"==typeof AbortController&&__privateGet(this,_useAbortSignal)&&(__privateSet(this,_controller,new AbortController),"undefined"!=typeof EventTarget&&__privateGet(this,_controller).signal instanceof EventTarget&&(options.signal=__privateGet(this,_controller).signal)),"undefined"!=typeof document&&(options.credentials=this.withCredentials?"include":"omit"),fetch(__privateGet(this,_url),options).then((res=>(res.headers.forEach(((value,key)=>{__privateSet(this,_resHeaders,__privateGet(this,_resHeaders)+"".concat(key,": ").concat(value,"\r\n"))})),this.status=res.status,this.statusText=res.statusText,this.readyState=3,textBody?res.text():res.arrayBuffer()))).then((resBody=>{"string"==typeof resBody?this.responseText=resBody:this.response=resBody,this.readyState=4,this.onreadystatechange()})).catch((err=>{var _a;"AbortError"!==err.name?null==(_a=this.onerror)||_a.call(this,err):this.onabort()}))}}_method=new WeakMap,_url=new WeakMap,_resHeaders=new WeakMap,_headers=new WeakMap,_controller=new WeakMap,_init=new WeakMap,_useAbortSignal=new WeakMap;const adapter="function"==typeof XMLHttpRequest?"xhr":"fetch",XmlHttpRequest="xhr"===adapter?XMLHttpRequest:FetchXhr,httpRequester=(context,callback)=>{var _a;const opts=context.options,options=context.applyMiddleware("finalizeOptions",opts),timers={},injectedResponse=context.applyMiddleware("interceptRequest",void 0,{adapter,context});if(injectedResponse){const cbTimer=setTimeout(callback,0,null,injectedResponse);return{abort:()=>clearTimeout(cbTimer)}}let xhr=new XmlHttpRequest;xhr instanceof FetchXhr&&"object"==typeof options.fetch&&xhr.setInit(options.fetch,null==(_a=options.useAbortSignal)||_a);const headers=options.headers,delays=options.timeout;let aborted=!1,loaded=!1,timedOut=!1;if(xhr.onerror=event=>{onError(new Error("Request error while attempting to reach ".concat(options.url).concat(event.lengthComputable?"(".concat(event.loaded," of ").concat(event.total," bytes transferred)"):"")))},xhr.ontimeout=event=>{onError(new Error("Request timeout while attempting to reach ".concat(options.url).concat(event.lengthComputable?"(".concat(event.loaded," of ").concat(event.total," bytes transferred)"):"")))},xhr.onabort=()=>{stopTimers(!0),aborted=!0},xhr.onreadystatechange=()=>{!function resetTimers(){if(!delays)return;stopTimers(),timers.socket=setTimeout((()=>timeoutRequest("ESOCKETTIMEDOUT")),delays.socket)}(),aborted||4!==xhr.readyState||0!==xhr.status&&function onLoad(){if(aborted||loaded||timedOut)return;if(0===xhr.status)return void onError(new Error("Unknown XHR error"));stopTimers(),loaded=!0,callback(null,function reduceResponse(){return{body:xhr.response||(""===xhr.responseType||"text"===xhr.responseType?xhr.responseText:""),url:options.url,method:options.method,headers:parse_headers_default()(xhr.getAllResponseHeaders()),statusCode:xhr.status,statusMessage:xhr.statusText}}())}()},xhr.open(options.method,options.url,!0),xhr.withCredentials=!!options.withCredentials,headers&&xhr.setRequestHeader)for(const key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key]);return options.rawBody&&(xhr.responseType="arraybuffer"),context.applyMiddleware("onRequest",{options,adapter,request:xhr,context}),xhr.send(options.body||null),delays&&(timers.connect=setTimeout((()=>timeoutRequest("ETIMEDOUT")),delays.connect)),{abort:function abort(){aborted=!0,xhr&&xhr.abort()}};function timeoutRequest(code){timedOut=!0,xhr.abort();const error=new Error("ESOCKETTIMEDOUT"===code?"Socket timed out on request to ".concat(options.url):"Connection timed out on request to ".concat(options.url));error.code=code,context.channels.error.publish(error)}function stopTimers(force){(force||aborted||xhr.readyState>=2&&timers.connect)&&clearTimeout(timers.connect),timers.socket&&clearTimeout(timers.socket)}function onError(error){if(loaded)return;stopTimers(!0),loaded=!0,xhr=null;const err=error||new Error("Network error while attempting to reach ".concat(options.url));err.isNetworkError=!0,err.request=options,callback(err)}};__webpack_require__("./node_modules/debug/src/browser.js");function isObject(o){return"[object Object]"===Object.prototype.toString.call(o)}var Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;Object.prototype.hasOwnProperty;Object.defineProperty;const isBuffer=void 0===Buffer?()=>!1:obj=>Buffer.isBuffer(obj),serializeTypes=["boolean","string","number"];function jsonRequest(){return{processOptions:options=>{const body=options.body;if(!body)return options;return!("function"==typeof body.pipe)&&!isBuffer(body)&&(-1!==serializeTypes.indexOf(typeof body)||Array.isArray(body)||function is_plain_object_isPlainObject(o){var ctor,prot;return!1!==isObject(o)&&(void 0===(ctor=o.constructor)||!1!==isObject(prot=ctor.prototype)&&!1!==prot.hasOwnProperty("isPrototypeOf"))}(body))?Object.assign({},options,{body:JSON.stringify(options.body),headers:Object.assign({},options.headers,{"Content-Type":"application/json"})}):options}}}function jsonResponse(opts){return{onResponse:response=>{const contentType=response.headers["content-type"]||"",shouldDecode=opts&&opts.force||-1!==contentType.indexOf("application/json");return response.body&&contentType&&shouldDecode?Object.assign({},response,{body:tryParse(response.body)}):response},processOptions:options=>Object.assign({},options,{headers:Object.assign({Accept:"application/json"},options.headers)})};function tryParse(body){try{return JSON.parse(body)}catch(err){throw err.message="Failed to parsed response body as JSON: ".concat(err.message),err}}}let actualGlobal={};"undefined"!=typeof globalThis?actualGlobal=globalThis:"undefined"!=typeof window?actualGlobal=window:void 0!==__webpack_require__.g?actualGlobal=__webpack_require__.g:"undefined"!=typeof self&&(actualGlobal=self);var global$1=actualGlobal;function observable(){const Observable=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).implementation||global$1.Observable;if(!Observable)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(channels,context)=>new Observable((observer=>(channels.error.subscribe((err=>observer.error(err))),channels.progress.subscribe((event=>observer.next(Object.assign({type:"progress"},event)))),channels.response.subscribe((response=>{observer.next(Object.assign({type:"response"},response)),observer.complete()})),channels.request.publish(context),()=>channels.abort.publish())))}}var middleware_browser_defProp=Object.defineProperty,middleware_browser_publicField=(obj,key,value)=>(((obj,key,value)=>{key in obj?middleware_browser_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value);const promise=function(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const PromiseImplementation=options.implementation||Promise;if(!PromiseImplementation)throw new Error("`Promise` is not available in global scope, and no implementation was passed");return{onReturn:(channels,context)=>new PromiseImplementation(((resolve,reject)=>{const cancel=context.options.cancelToken;cancel&&cancel.promise.then((reason=>{channels.abort.publish(reason),reject(reason)})),channels.error.subscribe(reject),channels.response.subscribe((response=>{resolve(options.onlyBody?response.body:response)})),setTimeout((()=>{try{channels.request.publish(context)}catch(err){reject(err)}}),0)}))}};class Cancel{constructor(message){middleware_browser_publicField(this,"__CANCEL__",!0),middleware_browser_publicField(this,"message"),this.message=message}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const _CancelToken=class _CancelToken{constructor(executor){if(middleware_browser_publicField(this,"promise"),middleware_browser_publicField(this,"reason"),"function"!=typeof executor)throw new TypeError("executor must be a function.");let resolvePromise=null;this.promise=new Promise((resolve=>{resolvePromise=resolve})),executor((message=>{this.reason||(this.reason=new Cancel(message),resolvePromise(this.reason))}))}};middleware_browser_publicField(_CancelToken,"source",(()=>{let cancel;return{token:new _CancelToken((can=>{cancel=can})),cancel}}));let CancelToken=_CancelToken;promise.Cancel=Cancel,promise.CancelToken=CancelToken,promise.isCancel=value=>!(!value||!(null==value?void 0:value.__CANCEL__));var defaultShouldRetry=(err,attempt,options)=>("GET"===options.method||"HEAD"===options.method)&&(err.isNetworkError||!1);function getRetryDelay(attemptNum){return 100*Math.pow(2,attemptNum)+100*Math.random()}const retry=function(){return(opts=>{const maxRetries=opts.maxRetries||5,retryDelay=opts.retryDelay||getRetryDelay,allowRetry=opts.shouldRetry;return{onError:(err,context)=>{const options=context.options,max=options.maxRetries||maxRetries,shouldRetry=options.shouldRetry||allowRetry,attemptNumber=options.attemptNumber||0;if(null!==(stream=options.body)&&"object"==typeof stream&&"function"==typeof stream.pipe)return err;var stream;if(!shouldRetry(err,attemptNumber,options)||attemptNumber>=max)return err;const newContext=Object.assign({},context,{options:Object.assign({},options,{attemptNumber:attemptNumber+1})});return setTimeout((()=>context.channels.request.publish(newContext)),retryDelay(attemptNumber)),null}}})({shouldRetry:defaultShouldRetry,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})};retry.shouldRetry=defaultShouldRetry;(function buildKeepAlive(agent){return function keepAlive(){let config=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const ms=config.ms||1e3,maxFree=config.maxFree||256;return agent({keepAlive:!0,keepAliveMsecs:ms,maxFreeSockets:maxFree})}})((function agent(opts){return{}}));var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.create;function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}Object.create;"function"==typeof SuppressedError&&SuppressedError;function isFunction(value){return"function"==typeof value}function createErrorClass(createImpl){var ctorFunc=createImpl((function(instance){Error.call(instance),instance.stack=(new Error).stack}));return ctorFunc.prototype=Object.create(Error.prototype),ctorFunc.prototype.constructor=ctorFunc,ctorFunc}var UnsubscriptionError=createErrorClass((function(_super){return function UnsubscriptionErrorImpl(errors){_super(this),this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map((function(err,i){return i+1+") "+err.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=errors}}));function arrRemove(arr,item){if(arr){var index=arr.indexOf(item);0<=index&&arr.splice(index,1)}}var Subscription=function(){function Subscription(initialTeardown){this.initialTeardown=initialTeardown,this.closed=!1,this._parentage=null,this._finalizers=null}var empty;return Subscription.prototype.unsubscribe=function(){var e_1,_a,e_2,_b,errors;if(!this.closed){this.closed=!0;var _parentage=this._parentage;if(_parentage)if(this._parentage=null,Array.isArray(_parentage))try{for(var _parentage_1=__values(_parentage),_parentage_1_1=_parentage_1.next();!_parentage_1_1.done;_parentage_1_1=_parentage_1.next()){_parentage_1_1.value.remove(this)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_parentage_1_1&&!_parentage_1_1.done&&(_a=_parentage_1.return)&&_a.call(_parentage_1)}finally{if(e_1)throw e_1.error}}else _parentage.remove(this);var initialFinalizer=this.initialTeardown;if(isFunction(initialFinalizer))try{initialFinalizer()}catch(e){errors=e instanceof UnsubscriptionError?e.errors:[e]}var _finalizers=this._finalizers;if(_finalizers){this._finalizers=null;try{for(var _finalizers_1=__values(_finalizers),_finalizers_1_1=_finalizers_1.next();!_finalizers_1_1.done;_finalizers_1_1=_finalizers_1.next()){var finalizer=_finalizers_1_1.value;try{execFinalizer(finalizer)}catch(err){errors=null!=errors?errors:[],err instanceof UnsubscriptionError?errors=__spreadArray(__spreadArray([],__read(errors)),__read(err.errors)):errors.push(err)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_finalizers_1_1&&!_finalizers_1_1.done&&(_b=_finalizers_1.return)&&_b.call(_finalizers_1)}finally{if(e_2)throw e_2.error}}}if(errors)throw new UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){var _a;if(teardown&&teardown!==this)if(this.closed)execFinalizer(teardown);else{if(teardown instanceof Subscription){if(teardown.closed||teardown._hasParent(this))return;teardown._addParent(this)}(this._finalizers=null!==(_a=this._finalizers)&&void 0!==_a?_a:[]).push(teardown)}},Subscription.prototype._hasParent=function(parent){var _parentage=this._parentage;return _parentage===parent||Array.isArray(_parentage)&&_parentage.includes(parent)},Subscription.prototype._addParent=function(parent){var _parentage=this._parentage;this._parentage=Array.isArray(_parentage)?(_parentage.push(parent),_parentage):_parentage?[_parentage,parent]:parent},Subscription.prototype._removeParent=function(parent){var _parentage=this._parentage;_parentage===parent?this._parentage=null:Array.isArray(_parentage)&&arrRemove(_parentage,parent)},Subscription.prototype.remove=function(teardown){var _finalizers=this._finalizers;_finalizers&&arrRemove(_finalizers,teardown),teardown instanceof Subscription&&teardown._removeParent(this)},Subscription.EMPTY=((empty=new Subscription).closed=!0,empty),Subscription}();Subscription.EMPTY;function isSubscription(value){return value instanceof Subscription||value&&"closed"in value&&isFunction(value.remove)&&isFunction(value.add)&&isFunction(value.unsubscribe)}function execFinalizer(finalizer){isFunction(finalizer)?finalizer():finalizer.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(handler,timeout){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var delegate=timeoutProvider.delegate;return(null==delegate?void 0:delegate.setTimeout)?delegate.setTimeout.apply(delegate,__spreadArray([handler,timeout],__read(args))):setTimeout.apply(void 0,__spreadArray([handler,timeout],__read(args)))},clearTimeout:function(handle){var delegate=timeoutProvider.delegate;return((null==delegate?void 0:delegate.clearTimeout)||clearTimeout)(handle)},delegate:void 0};function noop(){}var COMPLETE_NOTIFICATION=createNotification("C",void 0,void 0);function createNotification(kind,value,error){return{kind,value,error}}var context=null;var Subscriber=function(_super){function Subscriber(destination){var _this=_super.call(this)||this;return _this.isStopped=!1,destination?(_this.destination=destination,isSubscription(destination)&&destination.add(_this)):_this.destination=EMPTY_OBSERVER,_this}return __extends(Subscriber,_super),Subscriber.create=function(next,error,complete){return new SafeSubscriber(next,error,complete)},Subscriber.prototype.next=function(value){this.isStopped?handleStoppedNotification(function nextNotification(value){return createNotification("N",value,void 0)}(value),this):this._next(value)},Subscriber.prototype.error=function(err){this.isStopped?handleStoppedNotification(function errorNotification(error){return createNotification("E",void 0,error)}(err),this):(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped?handleStoppedNotification(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){try{this.destination.error(err)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(Subscription),_bind=Function.prototype.bind;function bind(fn,thisArg){return _bind.call(fn,thisArg)}var ConsumerObserver=function(){function ConsumerObserver(partialObserver){this.partialObserver=partialObserver}return ConsumerObserver.prototype.next=function(value){var partialObserver=this.partialObserver;if(partialObserver.next)try{partialObserver.next(value)}catch(error){handleUnhandledError(error)}},ConsumerObserver.prototype.error=function(err){var partialObserver=this.partialObserver;if(partialObserver.error)try{partialObserver.error(err)}catch(error){handleUnhandledError(error)}else handleUnhandledError(err)},ConsumerObserver.prototype.complete=function(){var partialObserver=this.partialObserver;if(partialObserver.complete)try{partialObserver.complete()}catch(error){handleUnhandledError(error)}},ConsumerObserver}(),SafeSubscriber=function(_super){function SafeSubscriber(observerOrNext,error,complete){var partialObserver,context_1,_this=_super.call(this)||this;isFunction(observerOrNext)||!observerOrNext?partialObserver={next:null!=observerOrNext?observerOrNext:void 0,error:null!=error?error:void 0,complete:null!=complete?complete:void 0}:_this&&config.useDeprecatedNextContext?((context_1=Object.create(observerOrNext)).unsubscribe=function(){return _this.unsubscribe()},partialObserver={next:observerOrNext.next&&bind(observerOrNext.next,context_1),error:observerOrNext.error&&bind(observerOrNext.error,context_1),complete:observerOrNext.complete&&bind(observerOrNext.complete,context_1)}):partialObserver=observerOrNext;return _this.destination=new ConsumerObserver(partialObserver),_this}return __extends(SafeSubscriber,_super),SafeSubscriber}(Subscriber);function handleUnhandledError(error){config.useDeprecatedSynchronousErrorHandling?function captureError(err){config.useDeprecatedSynchronousErrorHandling&&context&&(context.errorThrown=!0,context.error=err)}(error):function reportUnhandledError(err){timeoutProvider.setTimeout((function(){var onUnhandledError=config.onUnhandledError;if(!onUnhandledError)throw err;onUnhandledError(err)}))}(error)}function handleStoppedNotification(notification,subscriber){var onStoppedNotification=config.onStoppedNotification;onStoppedNotification&&timeoutProvider.setTimeout((function(){return onStoppedNotification(notification,subscriber)}))}var EMPTY_OBSERVER={closed:!0,next:noop,error:function defaultErrorHandler(err){throw err},complete:noop},observable_observable="function"==typeof Symbol&&Symbol.observable||"@@observable";function identity(x){return x}function pipeFromArray(fns){return 0===fns.length?identity:1===fns.length?fns[0]:function piped(input){return fns.reduce((function(prev,fn){return fn(prev)}),input)}}var Observable=function(){function Observable(subscribe){subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var _this=this,subscriber=function isSubscriber(value){return value&&value instanceof Subscriber||function isObserver(value){return value&&isFunction(value.next)&&isFunction(value.error)&&isFunction(value.complete)}(value)&&isSubscription(value)}(observerOrNext)?observerOrNext:new SafeSubscriber(observerOrNext,error,complete);return function errorContext(cb){if(config.useDeprecatedSynchronousErrorHandling){var isRoot=!context;if(isRoot&&(context={errorThrown:!1,error:null}),cb(),isRoot){var _a=context,errorThrown=_a.errorThrown,error=_a.error;if(context=null,errorThrown)throw error}}else cb()}((function(){var _a=_this,operator=_a.operator,source=_a.source;subscriber.add(operator?operator.call(subscriber,source):source?_this._subscribe(subscriber):_this._trySubscribe(subscriber))})),subscriber},Observable.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){sink.error(err)}},Observable.prototype.forEach=function(next,promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))((function(resolve,reject){var subscriber=new SafeSubscriber({next:function(value){try{next(value)}catch(err){reject(err),subscriber.unsubscribe()}},error:reject,complete:resolve});_this.subscribe(subscriber)}))},Observable.prototype._subscribe=function(subscriber){var _a;return null===(_a=this.source)||void 0===_a?void 0:_a.subscribe(subscriber)},Observable.prototype[observable_observable]=function(){return this},Observable.prototype.pipe=function(){for(var operations=[],_i=0;_i<arguments.length;_i++)operations[_i]=arguments[_i];return pipeFromArray(operations)(this)},Observable.prototype.toPromise=function(promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))((function(resolve,reject){var value;_this.subscribe((function(x){return value=x}),(function(err){return reject(err)}),(function(){return resolve(value)}))}))},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();function getPromiseCtor(promiseCtor){var _a;return null!==(_a=null!=promiseCtor?promiseCtor:config.Promise)&&void 0!==_a?_a:Promise}var EmptyError=createErrorClass((function(_super){return function EmptyErrorImpl(){_super(this),this.name="EmptyError",this.message="no elements in sequence"}}));function lastValueFrom(source,config){var hasConfig="object"==typeof config;return new Promise((function(resolve,reject){var _value,_hasValue=!1;source.subscribe({next:function(value){_value=value,_hasValue=!0},error:reject,complete:function(){_hasValue?resolve(_value):hasConfig?resolve(config.defaultValue):reject(new EmptyError)}})}))}function operate(init){return function(source){if(function hasLift(source){return isFunction(null==source?void 0:source.lift)}(source))return source.lift((function(liftedSource){try{return init(liftedSource,this)}catch(err){this.error(err)}}));throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(destination,onNext,onComplete,onError,onFinalize){return new OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize)}var OperatorSubscriber=function(_super){function OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize,shouldUnsubscribe){var _this=_super.call(this,destination)||this;return _this.onFinalize=onFinalize,_this.shouldUnsubscribe=shouldUnsubscribe,_this._next=onNext?function(value){try{onNext(value)}catch(err){destination.error(err)}}:_super.prototype._next,_this._error=onError?function(err){try{onError(err)}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._error,_this._complete=onComplete?function(){try{onComplete()}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._complete,_this}return __extends(OperatorSubscriber,_super),OperatorSubscriber.prototype.unsubscribe=function(){var _a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var closed_1=this.closed;_super.prototype.unsubscribe.call(this),!closed_1&&(null===(_a=this.onFinalize)||void 0===_a||_a.call(this))}},OperatorSubscriber}(Subscriber);function map(project,thisArg){return operate((function(source,subscriber){var index=0;source.subscribe(createOperatorSubscriber(subscriber,(function(value){subscriber.next(project.call(thisArg,value,index++))})))}))}function filter(predicate,thisArg){return operate((function(source,subscriber){var index=0;source.subscribe(createOperatorSubscriber(subscriber,(function(value){return predicate.call(thisArg,value,index++)&&subscriber.next(value)})))}))}var console=__webpack_require__("./node_modules/console-browserify/index.js"),envMiddleware=[],__defProp$3=Object.defineProperty,__publicField$3=(obj,key,value)=>(((obj,key,value)=>{key in obj?__defProp$3(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value);class ClientError extends Error{constructor(res){const props=extractErrorProps(res);super(props.message),__publicField$3(this,"response"),__publicField$3(this,"statusCode",400),__publicField$3(this,"responseBody"),__publicField$3(this,"details"),Object.assign(this,props)}}class ServerError extends Error{constructor(res){const props=extractErrorProps(res);super(props.message),__publicField$3(this,"response"),__publicField$3(this,"statusCode",500),__publicField$3(this,"responseBody"),__publicField$3(this,"details"),Object.assign(this,props)}}function extractErrorProps(res){const body=res.body,props={response:res,statusCode:res.statusCode,responseBody:index_browser_stringifyBody(body,res),message:"",details:void 0};if(body.error&&body.message)return props.message="".concat(body.error," - ").concat(body.message),props;if(function isMutationError(body){return index_browser_isPlainObject(body)&&index_browser_isPlainObject(body.error)&&"mutationError"===body.error.type&&"string"==typeof body.error.description}(body)){const allItems=body.error.items||[],items=allItems.slice(0,5).map((item=>{var _a;return null==(_a=item.error)?void 0:_a.description})).filter(Boolean);let itemsStr=items.length?":\n- ".concat(items.join("\n- ")):"";return allItems.length>5&&(itemsStr+="\n...and ".concat(allItems.length-5," more")),props.message="".concat(body.error.description).concat(itemsStr),props.details=body.error,props}return body.error&&body.error.description?(props.message=body.error.description,props.details=body.error,props):(props.message=body.error||body.message||function httpErrorMessage(res){const statusMessage=res.statusMessage?" ".concat(res.statusMessage):"";return"".concat(res.method,"-request to ").concat(res.url," resulted in HTTP ").concat(res.statusCode).concat(statusMessage)}(res),props)}function index_browser_isPlainObject(obj){return"object"==typeof obj&&null!==obj&&!Array.isArray(obj)}function index_browser_stringifyBody(body,res){return-1!==(res.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(body,null,2):body}const httpError={onResponse:res=>{if(res.statusCode>=500)throw new ServerError(res);if(res.statusCode>=400)throw new ClientError(res);return res}},printWarnings={onResponse:res=>{const warn=res.headers["x-sanity-warning"];return(Array.isArray(warn)?warn:[warn]).filter(Boolean).forEach((msg=>console.warn(msg))),res}};function defineHttpRequest(envMiddleware,_ref){let{maxRetries=5,retryDelay}=_ref;const request=function(){return createRequester(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:httpRequester)}([maxRetries>0?retry({retryDelay,maxRetries,shouldRetry}):{},...envMiddleware,printWarnings,jsonRequest(),jsonResponse(),{onRequest:evt=>{if("xhr"!==evt.adapter)return;const xhr=evt.request,context=evt.context;function handleProgress(stage){return event=>{const percent=event.lengthComputable?event.loaded/event.total*100:-1;context.channels.progress.publish({stage,percent,total:event.total,loaded:event.loaded,lengthComputable:event.lengthComputable})}}"upload"in xhr&&"onprogress"in xhr.upload&&(xhr.upload.onprogress=handleProgress("upload")),"onprogress"in xhr&&(xhr.onprogress=handleProgress("download"))}},httpError,observable({implementation:Observable})]);function httpRequest(options){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:request)({maxRedirects:0,...options})}return httpRequest.defaultRequester=request,httpRequest}function shouldRetry(err,attempt,options){const isSafe="GET"===options.method||"HEAD"===options.method,isQuery=(options.uri||options.url).startsWith("/data/query"),isRetriableResponse=err.response&&(429===err.response.statusCode||502===err.response.statusCode||503===err.response.statusCode);return!(!isSafe&&!isQuery||!isRetriableResponse)||retry.shouldRetry(err,attempt,options)}function generateHelpUrl(slug){return"https://www.sanity.io/help/"+slug}const VALID_ASSET_TYPES=["image","file"],VALID_INSERT_LOCATIONS=["before","after","replace"],dataset=name=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(name))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},validateObject=(op,val)=>{if(null===val||"object"!=typeof val||Array.isArray(val))throw new Error("".concat(op,"() takes an object of properties"))},validateDocumentId=(op,id)=>{if("string"!=typeof id||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id)||id.includes(".."))throw new Error("".concat(op,'(): "').concat(id,'" is not a valid document ID'))},requireDocumentId=(op,doc)=>{if(!doc._id)throw new Error("".concat(op,'() requires that the document contains an ID ("_id" property)'));validateDocumentId(op,doc._id)},hasDataset=config=>{if(!config.dataset)throw new Error("`dataset` must be provided to perform queries");return config.dataset||""},requestTag=tag=>{if("string"!=typeof tag||!/^[a-z0-9._-]{1,75}$/i.test(tag))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return tag};const createWarningPrinter=message=>function once(fn){let returnValue,didCall=!1;return function(){return didCall||(returnValue=fn(...arguments),didCall=!0),returnValue}}((function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return console.warn(message.join(" "),...args)})),printCdnWarning=createWarningPrinter(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),printCdnPreviewDraftsWarning=createWarningPrinter(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),printBrowserTokenWarning=createWarningPrinter(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(generateHelpUrl("js-client-browser-token")," for more information and how to hide this warning.")]),printNoApiVersionSpecifiedWarning=createWarningPrinter(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(generateHelpUrl("js-client-api-version"))]),defaultConfig=(createWarningPrinter(["The default export of @sanity/client has been deprecated. Use the named export `createClient` instead."]),{apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0}),LOCALHOSTS=["localhost","127.0.0.1","0.0.0.0"],validateApiPerspective=function validateApiPerspective2(perspective){switch(perspective){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},initConfig=(config,prevConfig)=>{const specifiedConfig=Object.assign({},prevConfig,config);specifiedConfig.apiVersion||printNoApiVersionSpecifiedWarning();const newConfig=Object.assign({},defaultConfig,specifiedConfig),projectBased=newConfig.useProjectHostname;if("undefined"==typeof Promise){const helpUrl=generateHelpUrl("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(helpUrl))}if(projectBased&&!newConfig.projectId)throw new Error("Configuration must contain `projectId`");if("string"==typeof newConfig.perspective&&validateApiPerspective(newConfig.perspective),"encodeSourceMapAtPath"in newConfig||"encodeSourceMap"in newConfig||"studioUrl"in newConfig||"logger"in newConfig)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const isBrowser="undefined"!=typeof window&&window.location&&window.location.hostname,isLocalhost=isBrowser&&(host=>-1!==LOCALHOSTS.indexOf(host))(window.location.hostname);isBrowser&&isLocalhost&&newConfig.token&&!0!==newConfig.ignoreBrowserTokenWarning?printBrowserTokenWarning():void 0===newConfig.useCdn&&printCdnWarning(),projectBased&&(id=>{if(!/^[-a-z0-9]+$/i.test(id))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")})(newConfig.projectId),newConfig.dataset&&dataset(newConfig.dataset),"requestTagPrefix"in newConfig&&(newConfig.requestTagPrefix=newConfig.requestTagPrefix?requestTag(newConfig.requestTagPrefix).replace(/\.+$/,""):void 0),newConfig.apiVersion="".concat(newConfig.apiVersion).replace(/^v/,""),newConfig.isDefaultApi=newConfig.apiHost===defaultConfig.apiHost,newConfig.useCdn=!1!==newConfig.useCdn&&!newConfig.withCredentials,function validateApiVersion2(apiVersion){if("1"===apiVersion||"X"===apiVersion)return;const apiDate=new Date(apiVersion);if(!(/^\d{4}-\d{2}-\d{2}$/.test(apiVersion)&&apiDate instanceof Date&&apiDate.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}(newConfig.apiVersion);const hostParts=newConfig.apiHost.split("://",2),protocol=hostParts[0],host=hostParts[1],cdnHost=newConfig.isDefaultApi?"apicdn.sanity.io":host;return newConfig.useProjectHostname?(newConfig.url="".concat(protocol,"://").concat(newConfig.projectId,".").concat(host,"/v").concat(newConfig.apiVersion),newConfig.cdnUrl="".concat(protocol,"://").concat(newConfig.projectId,".").concat(cdnHost,"/v").concat(newConfig.apiVersion)):(newConfig.url="".concat(newConfig.apiHost,"/v").concat(newConfig.apiVersion),newConfig.cdnUrl=newConfig.url),newConfig},projectHeader="X-Sanity-Project-ID";function getSelection(sel){if("string"==typeof sel||Array.isArray(sel))return{id:sel};if("object"==typeof sel&&null!==sel&&"query"in sel&&"string"==typeof sel.query)return"params"in sel&&"object"==typeof sel.params&&null!==sel.params?{query:sel.query,params:sel.params}:{query:sel.query};const selectionOpts=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n".concat(selectionOpts))}const encodeQueryString=_ref2=>{let{query,params={},options={}}=_ref2;const searchParams=new URLSearchParams,{tag,...opts}=options;tag&&searchParams.append("tag",tag),searchParams.append("query",query);for(const[key,value]of Object.entries(params))searchParams.append("$".concat(key),JSON.stringify(value));for(const[key,value]of Object.entries(opts))value&&searchParams.append(key,"".concat(value));return"?".concat(searchParams)};var _client$5,_client2$5,__defProp$2=Object.defineProperty,__publicField$2=(obj,key,value)=>(((obj,key,value)=>{key in obj?__defProp$2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck$6=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet$6=(obj,member,getter)=>(__accessCheck$6(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd$6=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet$6=(obj,member,value,setter)=>(__accessCheck$6(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);class BasePatch{constructor(selection){let operations=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};__publicField$2(this,"selection"),__publicField$2(this,"operations"),this.selection=selection,this.operations=operations}set(attrs){return this._assign("set",attrs)}setIfMissing(attrs){return this._assign("setIfMissing",attrs)}diffMatchPatch(attrs){return validateObject("diffMatchPatch",attrs),this._assign("diffMatchPatch",attrs)}unset(attrs){if(!Array.isArray(attrs))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:attrs}),this}inc(attrs){return this._assign("inc",attrs)}dec(attrs){return this._assign("dec",attrs)}insert(at,selector,items){return((at,selector,items)=>{const signature="insert(at, selector, items)";if(-1===VALID_INSERT_LOCATIONS.indexOf(at)){const valid=VALID_INSERT_LOCATIONS.map((loc=>'"'.concat(loc,'"'))).join(", ");throw new Error("".concat(signature,' takes an "at"-argument which is one of: ').concat(valid))}if("string"!=typeof selector)throw new Error("".concat(signature,' takes a "selector"-argument which must be a string'));if(!Array.isArray(items))throw new Error("".concat(signature,' takes an "items"-argument which must be an array'))})(at,selector,items),this._assign("insert",{[at]:selector,items})}append(selector,items){return this.insert("after","".concat(selector,"[-1]"),items)}prepend(selector,items){return this.insert("before","".concat(selector,"[0]"),items)}splice(selector,start,deleteCount,items){const startIndex=start<0?start-1:start,delCount=void 0===deleteCount||-1===deleteCount?-1:Math.max(0,start+deleteCount),delRange=startIndex<0&&delCount>=0?"":delCount,rangeSelector="".concat(selector,"[").concat(startIndex,":").concat(delRange,"]");return this.insert("replace",rangeSelector,items||[])}ifRevisionId(rev){return this.operations.ifRevisionID=rev,this}serialize(){return{...getSelection(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(op,props){let merge=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return validateObject(op,props),this.operations=Object.assign({},this.operations,{[op]:Object.assign({},merge&&this.operations[op]||{},props)}),this}_set(op,props){return this._assign(op,props,!1)}}_client$5=new WeakMap;let ObservablePatch=class _ObservablePatch extends BasePatch{constructor(selection,operations,client){super(selection,operations),__privateAdd$6(this,_client$5,void 0),__privateSet$6(this,_client$5,client)}clone(){return new _ObservablePatch(this.selection,{...this.operations},__privateGet$6(this,_client$5))}commit(options){if(!__privateGet$6(this,_client$5))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const returnFirst="string"==typeof this.selection,opts=Object.assign({returnFirst,returnDocuments:!0},options);return __privateGet$6(this,_client$5).mutate({patch:this.serialize()},opts)}};_client2$5=new WeakMap;let Patch=class _Patch extends BasePatch{constructor(selection,operations,client){super(selection,operations),__privateAdd$6(this,_client2$5,void 0),__privateSet$6(this,_client2$5,client)}clone(){return new _Patch(this.selection,{...this.operations},__privateGet$6(this,_client2$5))}commit(options){if(!__privateGet$6(this,_client2$5))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const returnFirst="string"==typeof this.selection,opts=Object.assign({returnFirst,returnDocuments:!0},options);return __privateGet$6(this,_client2$5).mutate({patch:this.serialize()},opts)}};var _client$4,_client2$4,index_browser_defProp$1=Object.defineProperty,index_browser_publicField$1=(obj,key,value)=>(((obj,key,value)=>{key in obj?index_browser_defProp$1(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value),__accessCheck$5=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet$5=(obj,member,getter)=>(__accessCheck$5(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd$5=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet$5=(obj,member,value,setter)=>(__accessCheck$5(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);const defaultMutateOptions={returnDocuments:!1};class BaseTransaction{constructor(){let operations=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],transactionId=arguments.length>1?arguments[1]:void 0;index_browser_publicField$1(this,"operations"),index_browser_publicField$1(this,"trxId"),this.operations=operations,this.trxId=transactionId}create(doc){return validateObject("create",doc),this._add({create:doc})}createIfNotExists(doc){const op="createIfNotExists";return validateObject(op,doc),requireDocumentId(op,doc),this._add({[op]:doc})}createOrReplace(doc){const op="createOrReplace";return validateObject(op,doc),requireDocumentId(op,doc),this._add({[op]:doc})}delete(documentId){return validateDocumentId("delete",documentId),this._add({delete:{id:documentId}})}transactionId(id){return id?(this.trxId=id,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(mut){return this.operations.push(mut),this}}_client$4=new WeakMap;let Transaction=class _Transaction extends BaseTransaction{constructor(operations,client,transactionId){super(operations,transactionId),__privateAdd$5(this,_client$4,void 0),__privateSet$5(this,_client$4,client)}clone(){return new _Transaction([...this.operations],__privateGet$5(this,_client$4),this.trxId)}commit(options){if(!__privateGet$5(this,_client$4))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return __privateGet$5(this,_client$4).mutate(this.serialize(),Object.assign({transactionId:this.trxId},defaultMutateOptions,options||{}))}patch(patchOrDocumentId,patchOps){const isBuilder="function"==typeof patchOps;if("string"!=typeof patchOrDocumentId&&patchOrDocumentId instanceof Patch)return this._add({patch:patchOrDocumentId.serialize()});if(isBuilder){const patch=patchOps(new Patch(patchOrDocumentId,{},__privateGet$5(this,_client$4)));if(!(patch instanceof Patch))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:patch.serialize()})}return this._add({patch:{id:patchOrDocumentId,...patchOps}})}};_client2$4=new WeakMap;let ObservableTransaction=class _ObservableTransaction extends BaseTransaction{constructor(operations,client,transactionId){super(operations,transactionId),__privateAdd$5(this,_client2$4,void 0),__privateSet$5(this,_client2$4,client)}clone(){return new _ObservableTransaction([...this.operations],__privateGet$5(this,_client2$4),this.trxId)}commit(options){if(!__privateGet$5(this,_client2$4))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return __privateGet$5(this,_client2$4).mutate(this.serialize(),Object.assign({transactionId:this.trxId},defaultMutateOptions,options||{}))}patch(patchOrDocumentId,patchOps){const isBuilder="function"==typeof patchOps;if("string"!=typeof patchOrDocumentId&&patchOrDocumentId instanceof ObservablePatch)return this._add({patch:patchOrDocumentId.serialize()});if(isBuilder){const patch=patchOps(new ObservablePatch(patchOrDocumentId,{},__privateGet$5(this,_client2$4)));if(!(patch instanceof ObservablePatch))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:patch.serialize()})}return this._add({patch:{id:patchOrDocumentId,...patchOps}})}};const getMutationQuery=function(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{dryRun:options.dryRun,returnIds:!0,returnDocuments:(param=options.returnDocuments,defValue=!0,!1===param?void 0:void 0===param?defValue:param),visibility:options.visibility||"sync",autoGenerateArrayKeys:options.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:options.skipCrossDatasetReferenceValidation};var param,defValue},isResponse=event=>"response"===event.type,getBody=event=>event.body,getQuerySizeLimit=11264;function _fetch(client,httpRequest,query,params){let options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const mapResponse=!1===options.filterResponse?res=>res:res=>res.result,{cache,next,...opts}={useAbortSignal:void 0!==options.signal,...options};return _dataRequest(client,httpRequest,"query",{query,params},void 0!==cache||void 0!==next?{...opts,fetch:{cache,next}}:opts).pipe(map(mapResponse))}function _getDocument(client,httpRequest,id){let opts=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _requestObservable(client,httpRequest,{uri:_getDataUrl(client,"doc",id),json:!0,tag:opts.tag}).pipe(filter(isResponse),map((event=>event.body.documents&&event.body.documents[0])))}function _getDocuments(client,httpRequest,ids){let opts=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _requestObservable(client,httpRequest,{uri:_getDataUrl(client,"doc",ids.join(",")),json:!0,tag:opts.tag}).pipe(filter(isResponse),map((event=>{const indexed=(docs=event.body.documents||[],attr=doc=>doc._id,docs.reduce(((indexed,doc)=>(indexed[attr(doc)]=doc,indexed)),Object.create(null)));var docs,attr;return ids.map((id=>indexed[id]||null))})))}function _createIfNotExists(client,httpRequest,doc,options){return requireDocumentId("createIfNotExists",doc),_create(client,httpRequest,doc,"createIfNotExists",options)}function _createOrReplace(client,httpRequest,doc,options){return requireDocumentId("createOrReplace",doc),_create(client,httpRequest,doc,"createOrReplace",options)}function _delete(client,httpRequest,selection,options){return _dataRequest(client,httpRequest,"mutate",{mutations:[{delete:getSelection(selection)}]},options)}function _mutate(client,httpRequest,mutations,options){let mut;mut=mutations instanceof Patch||mutations instanceof ObservablePatch?{patch:mutations.serialize()}:mutations instanceof Transaction||mutations instanceof ObservableTransaction?mutations.serialize():mutations;return _dataRequest(client,httpRequest,"mutate",{mutations:Array.isArray(mut)?mut:[mut],transactionId:options&&options.transactionId||void 0},options)}function _dataRequest(client,httpRequest,endpoint,body){let options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const isMutation="mutate"===endpoint,isQuery="query"===endpoint,strQuery=isMutation?"":encodeQueryString(body),useGet=!isMutation&&strQuery.length<getQuerySizeLimit,stringQuery=useGet?strQuery:"",returnFirst=options.returnFirst,{timeout,token,tag,headers}=options;return _requestObservable(client,httpRequest,{method:useGet?"GET":"POST",uri:_getDataUrl(client,endpoint,stringQuery),json:!0,body:useGet?void 0:body,query:isMutation&&getMutationQuery(options),timeout,headers,token,tag,perspective:options.perspective,resultSourceMap:options.resultSourceMap,canUseCdn:isQuery,signal:options.signal,fetch:options.fetch,useAbortSignal:options.useAbortSignal}).pipe(filter(isResponse),map(getBody),map((res=>{if(!isMutation)return res;const results=res.results||[];if(options.returnDocuments)return returnFirst?results[0]&&results[0].document:results.map((mut=>mut.document));const key=returnFirst?"documentId":"documentIds",ids=returnFirst?results[0]&&results[0].id:results.map((mut=>mut.id));return{transactionId:res.transactionId,results,[key]:ids}})))}function _create(client,httpRequest,doc,op){let options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return _dataRequest(client,httpRequest,"mutate",{mutations:[{[op]:doc}]},Object.assign({returnFirst:!0,returnDocuments:!0},options))}function _requestObservable(client,httpRequest,options){var _a;const uri=options.url||options.uri,config=client.config(),canUseCdn=void 0===options.canUseCdn?["GET","HEAD"].indexOf(options.method||"GET")>=0&&0===uri.indexOf("/data/"):options.canUseCdn;let useCdn=config.useCdn&&canUseCdn;const tag=options.tag&&config.requestTagPrefix?[config.requestTagPrefix,options.tag].join("."):options.tag||config.requestTagPrefix;if(tag&&(options.query={tag:requestTag(tag),...options.query}),["GET","HEAD","POST"].indexOf(options.method||"GET")>=0&&0===uri.indexOf("/data/query/")){(null!=(_a=options.resultSourceMap)?_a:config.resultSourceMap)&&(options.query={resultSourceMap:!0,...options.query});const perspective=options.perspective||config.perspective;"string"==typeof perspective&&"raw"!==perspective&&(validateApiPerspective(perspective),options.query={perspective,...options.query},"previewDrafts"===perspective&&useCdn&&(useCdn=!1,printCdnPreviewDraftsWarning()))}const reqOptions=function requestOptions(config){let overrides=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const headers={},token=overrides.token||config.token;token&&(headers.Authorization="Bearer ".concat(token)),overrides.useGlobalApi||config.useProjectHostname||!config.projectId||(headers[projectHeader]=config.projectId);const withCredentials=Boolean(void 0===overrides.withCredentials?config.token||config.withCredentials:overrides.withCredentials),timeout=void 0===overrides.timeout?config.timeout:overrides.timeout;return Object.assign({},overrides,{headers:Object.assign({},headers,overrides.headers||{}),timeout:void 0===timeout?3e5:timeout,proxy:overrides.proxy||config.proxy,json:!0,withCredentials,fetch:"object"==typeof overrides.fetch&&"object"==typeof config.fetch?{...config.fetch,...overrides.fetch}:overrides.fetch||config.fetch})}(config,Object.assign({},options,{url:_getUrl(client,uri,useCdn)})),request=new Observable((subscriber=>httpRequest(reqOptions,config.requester).subscribe(subscriber)));return options.signal?request.pipe(function _withAbortSignal(signal){return input=>new Observable((observer=>{const abort=()=>observer.error(function _createAbortError(signal){var _a,_b;if(isDomExceptionSupported)return new DOMException(null!=(_a=null==signal?void 0:signal.reason)?_a:"The operation was aborted.","AbortError");const error=new Error(null!=(_b=null==signal?void 0:signal.reason)?_b:"The operation was aborted.");return error.name="AbortError",error}(signal));if(signal&&signal.aborted)return void abort();const subscription=input.subscribe(observer);return signal.addEventListener("abort",abort),()=>{signal.removeEventListener("abort",abort),subscription.unsubscribe()}}))}(options.signal)):request}function _request(client,httpRequest,options){return _requestObservable(client,httpRequest,options).pipe(filter((event=>"response"===event.type)),map((event=>event.body)))}function _getDataUrl(client,operation,path){const config=client.config(),catalog=hasDataset(config),baseUri="/".concat(operation,"/").concat(catalog),uri=path?"".concat(baseUri,"/").concat(path):baseUri;return"/data".concat(uri).replace(/\/($|\?)/,"$1")}function _getUrl(client,uri){let canUseCdn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{url,cdnUrl}=client.config();return"".concat(canUseCdn?cdnUrl:url,"/").concat(uri.replace(/^\//,""))}const isDomExceptionSupported=Boolean(globalThis.DOMException);var _client$3,_httpRequest$4,_client2$3,_httpRequest2$4,__accessCheck$4=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet$4=(obj,member,getter)=>(__accessCheck$4(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd$4=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet$4=(obj,member,value,setter)=>(__accessCheck$4(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);class ObservableAssetsClient{constructor(client,httpRequest){__privateAdd$4(this,_client$3,void 0),__privateAdd$4(this,_httpRequest$4,void 0),__privateSet$4(this,_client$3,client),__privateSet$4(this,_httpRequest$4,httpRequest)}upload(assetType,body,options){return _upload(__privateGet$4(this,_client$3),__privateGet$4(this,_httpRequest$4),assetType,body,options)}}_client$3=new WeakMap,_httpRequest$4=new WeakMap;class AssetsClient{constructor(client,httpRequest){__privateAdd$4(this,_client2$3,void 0),__privateAdd$4(this,_httpRequest2$4,void 0),__privateSet$4(this,_client2$3,client),__privateSet$4(this,_httpRequest2$4,httpRequest)}upload(assetType,body,options){return lastValueFrom(_upload(__privateGet$4(this,_client2$3),__privateGet$4(this,_httpRequest2$4),assetType,body,options).pipe(filter((event=>"response"===event.type)),map((event=>event.body.document))))}}function _upload(client,httpRequest,assetType,body){let opts=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(type=>{if(-1===VALID_ASSET_TYPES.indexOf(type))throw new Error("Invalid asset type: ".concat(type,". Must be one of ").concat(VALID_ASSET_TYPES.join(", ")))})(assetType);let meta=opts.extract||void 0;meta&&!meta.length&&(meta=["none"]);const dataset=hasDataset(client.config()),assetEndpoint="image"===assetType?"images":"files",options=function optionsFromFile(opts,file){if("undefined"==typeof File||!(file instanceof File))return opts;return Object.assign({filename:!1===opts.preserveFilename?void 0:file.name,contentType:file.type},opts)}(opts,body),{tag,label,title,description,creditLine,filename,source}=options,query={label,title,description,filename,meta,creditLine};return source&&(query.sourceId=source.id,query.sourceName=source.name,query.sourceUrl=source.url),_requestObservable(client,httpRequest,{tag,method:"POST",timeout:options.timeout||0,uri:"/assets/".concat(assetEndpoint,"/").concat(dataset),headers:options.contentType?{"Content-Type":options.contentType}:{},query,body})}_client2$3=new WeakMap,_httpRequest2$4=new WeakMap;var defaults=(obj,defaults)=>Object.keys(defaults).concat(Object.keys(obj)).reduce(((target,prop)=>(target[prop]=void 0===obj[prop]?defaults[prop]:obj[prop],target)),{});const possibleOptions=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],index_browser_defaultOptions={includeResult:!0};function _listen(query,params){let opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{url,token,withCredentials,requestTagPrefix}=this.config(),tag=opts.tag&&requestTagPrefix?[requestTagPrefix,opts.tag].join("."):opts.tag,options={...defaults(opts,index_browser_defaultOptions),tag},listenOpts=(obj=options,possibleOptions.reduce(((selection,prop)=>(void 0===obj[prop]||(selection[prop]=obj[prop]),selection)),{}));var obj;const qs=encodeQueryString({query,params,options:{tag,...listenOpts}}),uri="".concat(url).concat(_getDataUrl(this,"listen",qs));if(uri.length>14800)return new Observable((observer=>observer.error(new Error("Query too large for listener"))));const listenFor=options.events?options.events:["mutation"],shouldEmitReconnect=-1!==listenFor.indexOf("reconnect"),esOptions={};return(token||withCredentials)&&(esOptions.withCredentials=!0),token&&(esOptions.headers={Authorization:"Bearer ".concat(token)}),new Observable((observer=>{let es,reconnectTimer;getEventSource().then((eventSource=>{es=eventSource})).catch((reason=>{observer.error(reason),stop()}));let stopped=!1;function onError(){stopped||(!function emitReconnect(){shouldEmitReconnect&&observer.next({type:"reconnect"})}(),stopped||es.readyState===es.CLOSED&&(unsubscribe(),clearTimeout(reconnectTimer),reconnectTimer=setTimeout(open,100)))}function onChannelError(err){observer.error(function cooerceError(err){if(err instanceof Error)return err;const evt=parseEvent(err);return evt instanceof Error?evt:new Error(function extractErrorMessage(err){if(!err.error)return err.message||"Unknown listener error";if(err.error.description)return err.error.description;return"string"==typeof err.error?err.error:JSON.stringify(err.error,null,2)}(evt))}(err))}function onMessage(evt){const event=parseEvent(evt);return event instanceof Error?observer.error(event):observer.next(event)}function onDisconnect(){stopped=!0,unsubscribe(),observer.complete()}function unsubscribe(){es&&(es.removeEventListener("error",onError),es.removeEventListener("channelError",onChannelError),es.removeEventListener("disconnect",onDisconnect),listenFor.forEach((type=>es.removeEventListener(type,onMessage))),es.close())}async function getEventSource(){const{default:EventSource}=await __webpack_require__.e(1982).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/@sanity/eventsource/browser.js",23)),evs=new EventSource(uri,esOptions);return evs.addEventListener("error",onError),evs.addEventListener("channelError",onChannelError),evs.addEventListener("disconnect",onDisconnect),listenFor.forEach((type=>evs.addEventListener(type,onMessage))),evs}function open(){getEventSource().then((eventSource=>{es=eventSource})).catch((reason=>{observer.error(reason),stop()}))}function stop(){stopped=!0,unsubscribe()}return stop}))}function parseEvent(event){try{const data=event.data&&JSON.parse(event.data)||{};return Object.assign({type:event.type},data)}catch(err){return err}}var _client$2,_httpRequest$3,_client2$2,_httpRequest2$3,__accessCheck$3=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet$3=(obj,member,getter)=>(__accessCheck$3(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd$3=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet$3=(obj,member,value,setter)=>(__accessCheck$3(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);class ObservableDatasetsClient{constructor(client,httpRequest){__privateAdd$3(this,_client$2,void 0),__privateAdd$3(this,_httpRequest$3,void 0),__privateSet$3(this,_client$2,client),__privateSet$3(this,_httpRequest$3,httpRequest)}create(name,options){return _modify(__privateGet$3(this,_client$2),__privateGet$3(this,_httpRequest$3),"PUT",name,options)}edit(name,options){return _modify(__privateGet$3(this,_client$2),__privateGet$3(this,_httpRequest$3),"PATCH",name,options)}delete(name){return _modify(__privateGet$3(this,_client$2),__privateGet$3(this,_httpRequest$3),"DELETE",name)}list(){return _request(__privateGet$3(this,_client$2),__privateGet$3(this,_httpRequest$3),{uri:"/datasets"})}}_client$2=new WeakMap,_httpRequest$3=new WeakMap;class DatasetsClient{constructor(client,httpRequest){__privateAdd$3(this,_client2$2,void 0),__privateAdd$3(this,_httpRequest2$3,void 0),__privateSet$3(this,_client2$2,client),__privateSet$3(this,_httpRequest2$3,httpRequest)}create(name,options){return lastValueFrom(_modify(__privateGet$3(this,_client2$2),__privateGet$3(this,_httpRequest2$3),"PUT",name,options))}edit(name,options){return lastValueFrom(_modify(__privateGet$3(this,_client2$2),__privateGet$3(this,_httpRequest2$3),"PATCH",name,options))}delete(name){return lastValueFrom(_modify(__privateGet$3(this,_client2$2),__privateGet$3(this,_httpRequest2$3),"DELETE",name))}list(){return lastValueFrom(_request(__privateGet$3(this,_client2$2),__privateGet$3(this,_httpRequest2$3),{uri:"/datasets"}))}}function _modify(client,httpRequest,method,name,options){return dataset(name),_request(client,httpRequest,{method,uri:"/datasets/".concat(name),body:options})}_client2$2=new WeakMap,_httpRequest2$3=new WeakMap;var _client$1,_httpRequest$2,_client2$1,_httpRequest2$2,__accessCheck$2=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet$2=(obj,member,getter)=>(__accessCheck$2(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd$2=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet$2=(obj,member,value,setter)=>(__accessCheck$2(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);class ObservableProjectsClient{constructor(client,httpRequest){__privateAdd$2(this,_client$1,void 0),__privateAdd$2(this,_httpRequest$2,void 0),__privateSet$2(this,_client$1,client),__privateSet$2(this,_httpRequest$2,httpRequest)}list(options){const uri=!1===(null==options?void 0:options.includeMembers)?"/projects?includeMembers=false":"/projects";return _request(__privateGet$2(this,_client$1),__privateGet$2(this,_httpRequest$2),{uri})}getById(projectId){return _request(__privateGet$2(this,_client$1),__privateGet$2(this,_httpRequest$2),{uri:"/projects/".concat(projectId)})}}_client$1=new WeakMap,_httpRequest$2=new WeakMap;class ProjectsClient{constructor(client,httpRequest){__privateAdd$2(this,_client2$1,void 0),__privateAdd$2(this,_httpRequest2$2,void 0),__privateSet$2(this,_client2$1,client),__privateSet$2(this,_httpRequest2$2,httpRequest)}list(options){const uri=!1===(null==options?void 0:options.includeMembers)?"/projects?includeMembers=false":"/projects";return lastValueFrom(_request(__privateGet$2(this,_client2$1),__privateGet$2(this,_httpRequest2$2),{uri}))}getById(projectId){return lastValueFrom(_request(__privateGet$2(this,_client2$1),__privateGet$2(this,_httpRequest2$2),{uri:"/projects/".concat(projectId)}))}}_client2$1=new WeakMap,_httpRequest2$2=new WeakMap;var _client,_httpRequest$1,_client2,_httpRequest2$1,__accessCheck$1=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet$1=(obj,member,getter)=>(__accessCheck$1(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd$1=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet$1=(obj,member,value,setter)=>(__accessCheck$1(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);class ObservableUsersClient{constructor(client,httpRequest){__privateAdd$1(this,_client,void 0),__privateAdd$1(this,_httpRequest$1,void 0),__privateSet$1(this,_client,client),__privateSet$1(this,_httpRequest$1,httpRequest)}getById(id){return _request(__privateGet$1(this,_client),__privateGet$1(this,_httpRequest$1),{uri:"/users/".concat(id)})}}_client=new WeakMap,_httpRequest$1=new WeakMap;class UsersClient{constructor(client,httpRequest){__privateAdd$1(this,_client2,void 0),__privateAdd$1(this,_httpRequest2$1,void 0),__privateSet$1(this,_client2,client),__privateSet$1(this,_httpRequest2$1,httpRequest)}getById(id){return lastValueFrom(_request(__privateGet$1(this,_client2),__privateGet$1(this,_httpRequest2$1),{uri:"/users/".concat(id)}))}}_client2=new WeakMap,_httpRequest2$1=new WeakMap;var _clientConfig,_httpRequest,_clientConfig2,_httpRequest2,index_browser_defProp=Object.defineProperty,index_browser_publicField=(obj,key,value)=>(((obj,key,value)=>{key in obj?index_browser_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value})(obj,"symbol"!=typeof key?key+"":key,value),value),index_browser_accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},index_browser_privateGet=(obj,member,getter)=>(index_browser_accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),index_browser_privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},index_browser_privateSet=(obj,member,value,setter)=>(index_browser_accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);_clientConfig=new WeakMap,_httpRequest=new WeakMap;let ObservableSanityClient=class _ObservableSanityClient{constructor(httpRequest){let config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultConfig;index_browser_publicField(this,"assets"),index_browser_publicField(this,"datasets"),index_browser_publicField(this,"projects"),index_browser_publicField(this,"users"),index_browser_privateAdd(this,_clientConfig,void 0),index_browser_privateAdd(this,_httpRequest,void 0),index_browser_publicField(this,"listen",_listen),this.config(config),index_browser_privateSet(this,_httpRequest,httpRequest),this.assets=new ObservableAssetsClient(this,index_browser_privateGet(this,_httpRequest)),this.datasets=new ObservableDatasetsClient(this,index_browser_privateGet(this,_httpRequest)),this.projects=new ObservableProjectsClient(this,index_browser_privateGet(this,_httpRequest)),this.users=new ObservableUsersClient(this,index_browser_privateGet(this,_httpRequest))}clone(){return new _ObservableSanityClient(index_browser_privateGet(this,_httpRequest),this.config())}config(newConfig){if(void 0===newConfig)return{...index_browser_privateGet(this,_clientConfig)};if(index_browser_privateGet(this,_clientConfig)&&!1===index_browser_privateGet(this,_clientConfig).allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return index_browser_privateSet(this,_clientConfig,initConfig(newConfig,index_browser_privateGet(this,_clientConfig)||{})),this}withConfig(newConfig){return new _ObservableSanityClient(index_browser_privateGet(this,_httpRequest),{...this.config(),...newConfig})}fetch(query,params){let options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _fetch(this,index_browser_privateGet(this,_httpRequest),query,params,options)}getDocument(id,options){return _getDocument(this,index_browser_privateGet(this,_httpRequest),id,options)}getDocuments(ids,options){return _getDocuments(this,index_browser_privateGet(this,_httpRequest),ids,options)}create(document,options){return _create(this,index_browser_privateGet(this,_httpRequest),document,"create",options)}createIfNotExists(document,options){return _createIfNotExists(this,index_browser_privateGet(this,_httpRequest),document,options)}createOrReplace(document,options){return _createOrReplace(this,index_browser_privateGet(this,_httpRequest),document,options)}delete(selection,options){return _delete(this,index_browser_privateGet(this,_httpRequest),selection,options)}mutate(operations,options){return _mutate(this,index_browser_privateGet(this,_httpRequest),operations,options)}patch(selection,operations){return new ObservablePatch(selection,operations,this)}transaction(operations){return new ObservableTransaction(operations,this)}request(options){return _request(this,index_browser_privateGet(this,_httpRequest),options)}getUrl(uri,canUseCdn){return _getUrl(this,uri,canUseCdn)}getDataUrl(operation,path){return _getDataUrl(this,operation,path)}};_clientConfig2=new WeakMap,_httpRequest2=new WeakMap;let SanityClient=class _SanityClient{constructor(httpRequest){let config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultConfig;index_browser_publicField(this,"assets"),index_browser_publicField(this,"datasets"),index_browser_publicField(this,"projects"),index_browser_publicField(this,"users"),index_browser_publicField(this,"observable"),index_browser_privateAdd(this,_clientConfig2,void 0),index_browser_privateAdd(this,_httpRequest2,void 0),index_browser_publicField(this,"listen",_listen),this.config(config),index_browser_privateSet(this,_httpRequest2,httpRequest),this.assets=new AssetsClient(this,index_browser_privateGet(this,_httpRequest2)),this.datasets=new DatasetsClient(this,index_browser_privateGet(this,_httpRequest2)),this.projects=new ProjectsClient(this,index_browser_privateGet(this,_httpRequest2)),this.users=new UsersClient(this,index_browser_privateGet(this,_httpRequest2)),this.observable=new ObservableSanityClient(httpRequest,config)}clone(){return new _SanityClient(index_browser_privateGet(this,_httpRequest2),this.config())}config(newConfig){if(void 0===newConfig)return{...index_browser_privateGet(this,_clientConfig2)};if(index_browser_privateGet(this,_clientConfig2)&&!1===index_browser_privateGet(this,_clientConfig2).allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(newConfig),index_browser_privateSet(this,_clientConfig2,initConfig(newConfig,index_browser_privateGet(this,_clientConfig2)||{})),this}withConfig(newConfig){return new _SanityClient(index_browser_privateGet(this,_httpRequest2),{...this.config(),...newConfig})}fetch(query,params){let options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return lastValueFrom(_fetch(this,index_browser_privateGet(this,_httpRequest2),query,params,options))}getDocument(id,options){return lastValueFrom(_getDocument(this,index_browser_privateGet(this,_httpRequest2),id,options))}getDocuments(ids,options){return lastValueFrom(_getDocuments(this,index_browser_privateGet(this,_httpRequest2),ids,options))}create(document,options){return lastValueFrom(_create(this,index_browser_privateGet(this,_httpRequest2),document,"create",options))}createIfNotExists(document,options){return lastValueFrom(_createIfNotExists(this,index_browser_privateGet(this,_httpRequest2),document,options))}createOrReplace(document,options){return lastValueFrom(_createOrReplace(this,index_browser_privateGet(this,_httpRequest2),document,options))}delete(selection,options){return lastValueFrom(_delete(this,index_browser_privateGet(this,_httpRequest2),selection,options))}mutate(operations,options){return lastValueFrom(_mutate(this,index_browser_privateGet(this,_httpRequest2),operations,options))}patch(documentId,operations){return new Patch(documentId,operations,this)}transaction(operations){return new Transaction(operations,this)}request(options){return lastValueFrom(_request(this,index_browser_privateGet(this,_httpRequest2),options))}dataRequest(endpoint,body,options){return lastValueFrom(_dataRequest(this,index_browser_privateGet(this,_httpRequest2),endpoint,body,options))}getUrl(uri,canUseCdn){return _getUrl(this,uri,canUseCdn)}getDataUrl(operation,path){return _getDataUrl(this,operation,path)}};const httpRequest=defineHttpRequest(envMiddleware,{}),requester=httpRequest.defaultRequester,createClient=config=>new SanityClient(defineHttpRequest(envMiddleware,{maxRetries:config.maxRetries,retryDelay:config.retryDelay}),config);var lodash_isplainobject=__webpack_require__("./node_modules/lodash.isplainobject/index.js"),lodash_isplainobject_default=__webpack_require__.n(lodash_isplainobject),s={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},c={0:8203,1:8204,2:8205,3:65279},d=new Array(4).fill(String.fromCodePoint(c[0])).join("");String.fromCharCode(0);function b(t,e,r="auto"){return!0===r||"auto"===r&&(function I(t){return!!Number.isNaN(Number(t))&&Boolean(Date.parse(t))}(t)||function x(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(t))?t:`${t}${function E(t){let e=JSON.stringify(t);return`${d}${Array.from(e).map((r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map((o=>String.fromCodePoint(c[o]))).join("")})).join("")}`}(e)}`}Object.fromEntries(Object.entries(c).map((t=>t.reverse()))),Object.fromEntries(Object.entries(s).map((t=>t.reverse())));var S=`${Object.values(s).map((t=>`\\u{${t.toString(16)}}`)).join("")}`;new RegExp(`[${S}]{4,}`,"gu");const ESCAPE={"\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","'":"\\'","\\":"\\\\"},UNESCAPE={"\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t","\\'":"'","\\\\":"\\"};function parseNormalisedJsonPath(path){const parsed=[],parseRe=/\['(.*?)'\]|\[(\d+)\]/g;let match;for(;null!==(match=parseRe.exec(path));)if(void 0===match[1])void 0===match[2]||parsed.push(parseInt(match[2],10));else{const key=match[1].replace(/\\(\\|f|n|r|t|')/g,(m=>UNESCAPE[m]));parsed.push(key)}return parsed}function defineEditLink(_studioUrl){const studioUrl=_studioUrl.replace(/\/$/,"");return(sourceDocument,path)=>"".concat(studioUrl,"/intent/edit/id=").concat(sourceDocument._id,";path=").concat(function encodeJsonPathToUriComponent(path){const sourcePath=Array.isArray(path)?path:parseNormalisedJsonPath(path);return encodeURIComponent(sourcePath.map(((key,i)=>"number"==typeof key?"[".concat(key,"]"):i>0?".".concat(key):key)).join(""))}(path))}function sourcemap_encode(result,csm,encoder){return function encodeIntoResult(result,csm,encoder){return walkMap(result,((value,path)=>{if("string"!=typeof value)return value;const resolveMappingResult=function resolveMapping(resultPath,csm,logger){var _a;const resultJsonPath=function normalisedJsonPath(path){return"$".concat(path.map((key=>{if("string"==typeof key){const escapedKey=key.replace(/[\f\n\r\t'\\]/g,(match=>ESCAPE[match]));return"['".concat(escapedKey,"']")}return"[".concat(key,"]")})).join(""))}(resultPath);if(!csm.mappings)return void(null==(_a=null==logger?void 0:logger.error)||_a.call(logger,"Missing mappings",{resultSourceMap:csm}));if(void 0!==csm.mappings[resultJsonPath])return[csm.mappings[resultJsonPath],resultJsonPath,""];const mappings=Object.entries(csm.mappings).filter((_ref2=>{let[key]=_ref2;return resultJsonPath.startsWith(key)})).sort(((_ref3,_ref4)=>{let[key1]=_ref3,[key2]=_ref4;return key2.length-key1.length}));if(0==mappings.length)return;const[matchedPath,mapping]=mappings[0],pathSuffix=resultJsonPath.substring(matchedPath.length);return[mapping,matchedPath,pathSuffix]}(path,csm);if(!resolveMappingResult)return value;const[mapping,,pathSuffix]=resolveMappingResult;if("value"!==mapping.type)return value;if("documentValue"!==mapping.source.type)return value;const sourceDocument=csm.documents[mapping.source.document],sourcePath=csm.paths[mapping.source.path];return encoder(value,sourceDocument,parseNormalisedJsonPath(sourcePath+pathSuffix))}))}(result,csm,encoder)}function walkMap(value,mappingFn){let path=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function isArray(value){return null!==value&&Array.isArray(value)}(value)?value.map(((v,idx)=>walkMap(v,mappingFn,path.concat(idx)))):function isRecord(value){return"object"==typeof value&&null!==value}(value)?Object.fromEntries(Object.entries(value).map((_ref=>{let[k,v]=_ref;return[k,walkMap(v,mappingFn,path.concat(k))]}))):mappingFn(value,path)}const filterDefault=_ref=>{let{path}=_ref;const endPath=path.at(-1);return("slug"!==path.at(-2)||"current"!==endPath)&&(("string"!=typeof endPath||!endPath.startsWith("_"))&&(("number"!=typeof endPath||"marks"!==path.at(-2)||"number"!=typeof path.at(-3)||"children"!==path.at(-4)||"number"!=typeof path.at(-5))&&(("href"!==endPath||"number"!=typeof path.at(-2)||"markDefs"!==path.at(-3)||"number"!=typeof path.at(-4))&&("string"!=typeof endPath||"number"!=typeof path.at(-2)||"style"!==endPath&&"listItem"!==endPath))))},TRUNCATE_LENGTH=20;function createTranscoder(config){const{studioUrl,encodeSourceMapAtPath,logger}=config,createEditLink=defineEditLink(studioUrl),report={encoded:[],skipped:[]};return(result,csm)=>(report.encoded.length=0,report.skipped.length=0,{result:sourcemap_encode(result,csm,((value,sourceDocument,path)=>((input,sourceDocument,sourcePath)=>!1===("function"==typeof encodeSourceMapAtPath?encodeSourceMapAtPath({path:sourcePath,filterDefault}):filterDefault({path:sourcePath,filterDefault}))?(logger&&report.skipped.push({path:prettyPathForLogging(sourcePath),value:"".concat(input.slice(0,TRUNCATE_LENGTH)).concat(input.length>TRUNCATE_LENGTH?"...":""),length:input.length}),input):(logger&&report.encoded.push({path:prettyPathForLogging(sourcePath),value:"".concat(input.slice(0,TRUNCATE_LENGTH)).concat(input.length>TRUNCATE_LENGTH?"...":""),length:input.length}),b(input,{origin:"sanity.io",href:createEditLink(sourceDocument,sourcePath)},"auto")))(value,sourceDocument,path))),report})}function prettyPathForLogging(path){return path.map(((segment,index)=>"number"==typeof segment?"[".concat(segment,"]"):index>0?".".concat(segment):segment)).join("")}function createHttpRequest(_ref2){let{studioUrl,encodeSourceMapAtPath,logger}=_ref2;const superRequester=requester.clone();function httpRequest(options){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:superRequester)({maxRedirects:0,...options})}return superRequester.use(function transcodeResponse(_ref){let{studioUrl,encodeSourceMapAtPath,logger}=_ref;const transcoder=createTranscoder({studioUrl,encodeSourceMapAtPath,logger});return{onResponse:response=>{var _a,_b,_c,_d,_e,_f,_g;if(!function isBodyResponse(response){return"object"==typeof response&&null!==response}(response))return response;if(Array.isArray(response.body)||"string"==typeof response.body||lodash_isplainobject_default()(response.body)){if(!function isContentSourceMapBody(body){return"object"==typeof body&&null!==body&&"resultSourceMap"in body}(response.body))return logger&&function isResultBody(body){return"object"==typeof body&&null!==body&&"result"in body}(response.body)&&(null==(_a=null==logger?void 0:logger.error)||_a.call(logger,"[@sanity/preview-kit]: Missing Content Source Map from response body",response.body)),response;const transcoderResult=transcoder(response.body.result,response.body.resultSourceMap);if(logger){const isSkipping=transcoderResult.report.skipped.length,isEncoding=transcoderResult.report.encoded.length;if((isSkipping||isEncoding)&&(null==(_b=(null==logger?void 0:logger.groupCollapsed)||logger.log)||_b("[@sanity/preview-kit]: Stega encoding source map into result"),null==(_c=logger.log)||_c.call(logger,"[@sanity/preview-kit]: Paths encoded: ".concat(transcoderResult.report.encoded.length,", skipped: ").concat(transcoderResult.report.skipped.length))),transcoderResult.report.encoded.length>0&&(null==(_d=null==logger?void 0:logger.log)||_d.call(logger,"[@sanity/preview-kit]: Table of encoded paths"),null==(_e=(null==logger?void 0:logger.table)||logger.log)||_e(transcoderResult.report.encoded)),transcoderResult.report.skipped.length>0){const skipped=new Set;for(const{path}of transcoderResult.report.skipped)skipped.add(path.replace(/\[\d+\]/g,"[]"));null==(_f=null==logger?void 0:logger.log)||_f.call(logger,"[@sanity/preview-kit]: List of skipped paths",[...skipped.values()])}(isSkipping||isEncoding)&&(null==(_g=null==logger?void 0:logger.groupEnd)||_g.call(logger))}const body={...response.body,result:transcoderResult.result};return{...response,body}}return response}}}({studioUrl,encodeSourceMapAtPath,logger})),httpRequest.defaultRequester=superRequester,httpRequest}var createClient_console=__webpack_require__("./node_modules/console-browserify/index.js"),process=__webpack_require__("./node_modules/process/browser.js");const createClient_createClient=config=>{var _a,_b;const{encodeSourceMap=detectEnableSourceMap(),encodeSourceMapAtPath,studioUrl=detectStudioUrl(),logger,...options}=config;let shouldEncodeSourceMap=!0===encodeSourceMap;if("auto"===encodeSourceMap&&(shouldEncodeSourceMap=function isVercelPreviewEnvironment(){try{return"preview"===(void 0).VERCEL_ENV}catch{}try{return"preview"===process.env.VERCEL_ENV}catch{}return!1}()),"string"==typeof encodeSourceMap&&"auto"!==encodeSourceMap)throw new Error("Invalid value for encodeSourceMap: ".concat(encodeSourceMap,". Did you mean 'auto'?"));try{if(shouldEncodeSourceMap&&!1!==config.resultSourceMap){if(!studioUrl)return null==(_a=null==logger?void 0:logger.error)||_a.call(logger,"[@sanity/preview-kit]: Content source map enabled client is enabled, but no studioUrl is provided. Falling back to @sanity/client"),createClient(options);null==(_b=null==logger?void 0:logger.debug)||_b.call(logger,"[@sanity/preview-kit]: Creating source map enabled client");const httpRequest=createHttpRequest({encodeSourceMapAtPath,studioUrl,logger});return new SanityClient(httpRequest,{...options,resultSourceMap:!0})}}catch(err){createClient_console.error("[@sanity/preview-kit]: Error creating client",err,"falling back to non-embedded sourcemap mode")}return createClient(options)};function detectEnableSourceMap(){try{return"true"===(void 0).SANITY_SOURCE_MAP||"auto"}catch{}try{return"true"===process.env.SANITY_SOURCE_MAP||"auto"}catch{}return"auto"}function detectStudioUrl(){try{return(void 0).SANITY_STUDIO_URL}catch{}try{return process.env.SANITY_STUDIO_URL}catch{}}var client_process=__webpack_require__("./node_modules/process/browser.js");function client_createClient(config){let{studioUrl=client_process.env.NEXT_PUBLIC_SANITY_STUDIO_URL,encodeSourceMap=!!studioUrl&&"auto"}=config;return"auto"===encodeSourceMap&&"preview"===client_process.env.NEXT_PUBLIC_VERCEL_ENV&&(encodeSourceMap=!0),createClient_createClient({...config,studioUrl,encodeSourceMap})}},"./node_modules/parse-headers/parse-headers.js":module=>{var trim=function(string){return string.replace(/^\s+|\s+$/g,"")};module.exports=function(headers){if(!headers)return{};for(var arg,result={},headersArr=trim(headers).split("\n"),i=0;i<headersArr.length;i++){var row=headersArr[i],index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));void 0===result[key]?result[key]=value:(arg=result[key],"[object Array]"===Object.prototype.toString.call(arg)?result[key].push(value):result[key]=[result[key],value])}return result}}}]);